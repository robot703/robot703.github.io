import{a as b}from"./axios-DTyqpfTh.js";import{_ as y,r as k,h as M,c as p,a as e,g as a,w as o,i as s,o as u,j as x,k as I,C as _,l as v,m as S,n as B,F,q as L,s as z,A as E,t as r,p as V,f as D}from"./index-BOkD3hqs.js";const m=n=>(V("data-v-82cc9a23"),n=n(),D(),n),N={class:"wrapper d-flex flex-column min-vh-100"},j={class:"body flex-grow-1 position-relative"},A=m(()=>a("div",{id:"map",class:"map-background"},null,-1)),P=m(()=>a("h4",{id:"list",class:"card-title mb-0"},"위험물 리스트",-1)),T={class:"table-container"},$={class:"table table-hover table-bordered mt-3"},q=m(()=>a("thead",null,[a("tr",null,[a("th",null,"No."),a("th",null,"Date"),a("th",null,"GPS"),a("th",null,"Information")])],-1)),G={__name:"MapView",setup(n){const d=k([]),i=k(null);M(()=>{C(),window.kakao&&window.kakao.maps?f():g()});function g(){const t=document.createElement("script");t.src="//dapi.kakao.com/v2/maps/sdk.js?appkey=82cbd113a946e9eaacfc294fdea74478",t.onload=()=>{window.kakao.maps.load(()=>{f()})},document.head.appendChild(t)}function f(){const t=document.getElementById("map");if(t){const l={center:new window.kakao.maps.LatLng(36.628,127.4565),level:4};i.value=new window.kakao.maps.Map(t,l),h()}else console.error("Map container not found")}function h(){i.value&&d.value.forEach(t=>{const l=new window.kakao.maps.LatLng(parseFloat(t.gps.split(",")[0]),parseFloat(t.gps.split(",")[1]));new window.kakao.maps.Marker({position:l}).setMap(i.value)})}async function C(){try{const t=await b.get("http://localhost/api/hazarddata");d.value=t.data,h()}catch(t){console.error("There was an error fetching the hazard data:",t)}}return(t,l)=>(u(),p("div",null,[e(x),a("div",N,[e(I),a("div",j,[e(s(z),{class:"px-4",lg:""},{default:o(()=>[A,e(s(_),{class:"overlay-content"},{default:o(()=>[e(s(v),null,{default:o(()=>[e(s(S),{class:"risk-list-card"},{default:o(()=>[e(s(B),null,{default:o(()=>[e(s(_),null,{default:o(()=>[e(s(v),{sm:12},{default:o(()=>[P]),_:1})]),_:1}),e(s(_),null,{default:o(()=>[a("div",T,[a("table",$,[q,a("tbody",null,[(u(!0),p(F,null,L(d.value,(c,w)=>(u(),p("tr",{key:w},[a("td",null,r(w+1),1),a("td",null,r(c.dates),1),a("td",null,r(c.gps),1),a("td",null,r(c.hazardType),1)]))),128))])])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),e(E)])]))}},J=y(G,[["__scopeId","data-v-82cc9a23"]]);export{J as default};
